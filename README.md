# Tailwindify

Converts component and object properties to Tailwind classes.

## Basic usage

In your tailwind config, use the transform function so the classes generated by your props get picked up by Tailwind and end up in your css output.

```js
const { svelte } = require('tailwindify/transform');

module.exports = {
	content: {
		files: ['src/**/*.svelte'],
		transform: {
			svelte: svelte()
		}
	}
};
```

Then in your component, you can have props like this:

```svelte
<script>
	import { tailwindify } from 'tailwindify';

	export let text = 'blue-500';
</script>

<button class="text-{text}"> My button </button>
```

To output:

```html
<button class="text-blue-500">My button</button>
```

```css
.text-blue-500 {
	color: blue;
}
```

You can now modify this prop from outside:

```svelte
<MyComponent text="red-800" />
```

```html
<button class="text-red-800">My button</button>
```

```css
.text-red-500 {
	color: red;
}
```

It also works with javascript/typescript objects and constants:

```svelte
<script lang="ts">
	import { tailwindify } from 'tailwindify';

	type ButtonStyle = {
		bg: 'black' | 'red';
		text: 'white' | 'blue';
	};

	export let styles: ButtonStyle = {
		bg: 'black',
		text: 'white'
	};

	const lineHeight = '6';
</script>

<button class="{styles.bg} {styles.text} leading-{lineHeight}"> My button </button>
```

```html
<button class="leading-6 bg-black text-white">My button</button>
```

```css
.bg-black {
	background-color: black;
}

.text-white {
	color: white;
}

.leading-6 {
	line-height: 1.5;
}
```

## The transform function

You can import transform functions from `tailwindify/transform`. The function has the name of the file extension you want to transform. You can then use it in the `content.transform` property of your Tailwind config.

Right now, only Svelte is supported.

```js
const { svelte } = require('tailwindify/transform');

module.exports = {
	content: {
		files: ['src/**/*.svelte'],
		transform: {
			svelte: svelte()
		}
	}
};
```

The transform function accepts the following config object:

```ts
type Config = {
	replacers?: {
		[key: string]: string | (value: string, prop: string) => string;
	};
	defaultScreen?: string;
};
```

### Replacers

By default, Tailwindify generates class prefixes based on the prop key (like `text`, `bg`, `pt`, etc.) and appends the value to it. Camel case props are converted to kebab case (`alignItems` becomes `align-items`).

You can customize this behavior with replacers.

For example, let's say we have the following component:

```svelte
<script>
	export let borderColor = 'green-500';
</script>
```

The basic behavior will generate the class `border-color-green-500`, but we need it to be `border-green-500`.

To change this, we can use the `replacers` property of the config object passed to the transform function.

A replacer can either be a string or a function that returns a string. This allows you to format the class however you like. The `'$value'` part of the string will be replaced with the actual value.

```js
module.exports = {
	content: {
		transform: {
			svelte: svelte({
				replacers: {
					borderColor: 'border-$value'
				}
			})
		}
	}
};
```

You can even use custom values and multiple classes for the same key.

```js
module.exports = {
	content: {
		transform: {
			svelte: svelte({
				replacers: {
					size: 'w-[$value] h-[$value]'
				}
			})
		}
	}
};
```

If you need more customization, you can pass a function instead. You will get the value and the prop key as arguments, and you will be able to return the class you need.

```js
module.exports = {
	content: {
		transform: {
			svelte: svelte({
				replacers: {
					mySpecialProp: (value, prop) => {
						return `${prop}_${value}`;
					}
				}
			})
		}
	}
};
```

### Responsive values

Passing a single value to our props is great, but what if you need responsive values?

You can chain multiple responsive values with the `|` separator and use your own Tailwind screen prefixes.

```svelte
<MyButtonComponent padding="24|xs:32|lg:40" />
```

```html
<button class="p-24 xs:p-32 lg:p-40">Click me!</button>
```

If you find yourself often using the same screen prefix, you can omit it.

```svelte
<MyButtonComponent padding="24|32" />
```

```html
<button class="p-24 xs:p-32">Click me!</button>
```

The default screen prefix is `xs`, but you can customize it in your Tailwind config:

```js
module.exports = {
	content: {
		transform: {
			svelte: svelte({
				defaultScreen: 'sm'
			})
		}
	}
};
```
